<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุฏุงุฑุฉ ุงูุทูุงุจ - ููุฑ ุฃูุงุฏููู</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/arabic.css">
    <link rel="stylesheet" href="css/students.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Admin Access Control - Must be in head to prevent content flash -->
    <script>
        // Check if admin is logged in before page loads
        if (localStorage.getItem('adminLoggedIn') !== 'true') {
            // Redirect immediately without showing content
            window.location.replace('admin.html');
        }
    </script>
</head>
<body class="arabic-text">
    <!-- Header -->
    <header class="header">
        <div class="header-background"></div>
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <div class="logo-wrapper">
                        <div class="logo-glow"></div>
                        <img src="logo/nor-01.jpg" alt="Noor Academy Logo" class="logo-img">
                    </div>
                    <div class="logo-text">
                        <h1 data-ar="ููุฑ ุฃูุงุฏููู" data-en="Noor Academy">ููุฑ ุฃูุงุฏููู</h1>
                        <p data-ar="ุงูุชููุฒ ูู ุงูุชุนููู" data-en="Excellence in Education">ุงูุชููุฒ ูู ุงูุชุนููู</p>
                    </div>
                </div>
                
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link" data-ar="ุงูุฑุฆูุณูุฉ" data-en="Home">
                            <i class="fas fa-home"></i>
                            <span>ุงูุฑุฆูุณูุฉ</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="students.html" class="nav-link active" data-ar="ุงูุทูุงุจ" data-en="Students">
                            <i class="fas fa-user-graduate"></i>
                            <span>ุงูุทูุงุจ</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="courses.html" class="nav-link" data-ar="ุงูููุฑุฑุงุช" data-en="Courses">
                            <i class="fas fa-book"></i>
                            <span>ุงูููุฑุฑุงุช</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="teachers.html" class="nav-link" data-ar="ุงููุฏุฑุณูู" data-en="Teachers">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <span>ุงููุฏุฑุณูู</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="reports.html" class="nav-link" data-ar="ุงูุชูุงุฑูุฑ" data-en="Reports">
                            <i class="fas fa-chart-bar"></i>
                            <span>ุงูุชูุงุฑูุฑ</span>
                        </a>
                    </li>
                </ul>

                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Page Header -->
        <div class="page-header">
            <div class="container">
                <div class="page-title">
                    <h1 data-ar="ุฅุฏุงุฑุฉ ุงูุทูุงุจ" data-en="Student Management">ุฅุฏุงุฑุฉ ุงูุทูุงุจ</h1>
                    <p data-ar="ุฅุฏุงุฑุฉ ุดุงููุฉ ูุจูุงูุงุช ุงูุทูุงุจ ูุงูุชุณุฌูู ูุงููุชุงุจุนุฉ ุงูุฃูุงุฏูููุฉ" data-en="Comprehensive management of student data, registration, and academic tracking">ุฅุฏุงุฑุฉ ุดุงููุฉ ูุจูุงูุงุช ุงูุทูุงุจ ูุงูุชุณุฌูู ูุงููุชุงุจุนุฉ ุงูุฃูุงุฏูููุฉ</p>
                </div>
                <div class="page-actions">
                    <button id="theme-toggle" class="theme-btn">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="btn btn-secondary" id="importStudentsBtn">
                        <i class="fas fa-upload"></i>
                        <span data-ar="ุงุณุชูุฑุงุฏ ุทูุงุจ" data-en="Import Students">ุงุณุชูุฑุงุฏ ุทูุงุจ</span>
                    </button>
                    <button class="btn btn-secondary" id="exportStudentsBtn">
                        <i class="fas fa-download"></i>
                        <span data-ar="ุชุตุฏูุฑ ุงูุจูุงูุงุช" data-en="Export Data">ุชุตุฏูุฑ ุงูุจูุงูุงุช</span>
                    </button>
                    <button class="btn btn-primary" id="addStudentBtn">
                        <i class="fas fa-plus"></i>
                        <span data-ar="ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ" data-en="Add New Student">ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Statistics Cards -->
        <div class="stats-section">
            <div class="container">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number">0</h3>
                            <p class="stat-label" data-ar="ุฅุฌูุงูู ุงูุทูุงุจ" data-en="Total Students">ุฅุฌูุงูู ุงูุทูุงุจ</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon active">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number">0</h3>
                            <p class="stat-label" data-ar="ุทูุงุจ ูุดุทูู" data-en="Active Students">ุทูุงุจ ูุดุทูู</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon new">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number">0</h3>
                            <p class="stat-label" data-ar="ุทูุงุจ ุฌุฏุฏ ูุฐุง ุงูุดูุฑ" data-en="New This Month">ุทูุงุจ ุฌุฏุฏ ูุฐุง ุงูุดูุฑ</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon graduated">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number">0</h3>
                            <p class="stat-label" data-ar="ุฎุฑูุฌูู" data-en="Graduates">ุฎุฑูุฌูู</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filters and Search -->
        <div class="filters-section">
            <div class="container">
                <div class="filters-bar">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="studentSearch" placeholder="ุงูุจุญุซ ุนู ุทุงูุจ..." data-placeholder-ar="ุงูุจุญุซ ุนู ุทุงูุจ..." data-placeholder-en="Search for student...">
                    </div>
                    <div class="filter-group">
                        <select id="statusFilter" class="filter-select">
                            <option value="" data-ar="ุฌููุน ุงูุญุงูุงุช" data-en="All Status">ุฌููุน ุงูุญุงูุงุช</option>
                            <option value="active" data-ar="ูุดุท" data-en="Active">ูุดุท</option>
                            <option value="inactive" data-ar="ุบูุฑ ูุดุท" data-en="Inactive">ุบูุฑ ูุดุท</option>
                            <option value="graduated" data-ar="ุฎุฑูุฌ" data-en="Graduated">ุฎุฑูุฌ</option>
                            <option value="suspended" data-ar="ููููู" data-en="Suspended">ููููู</option>
                        </select>
                        <select id="gradeFilter" class="filter-select">
                            <option value="" data-ar="ุฌููุน ุงููุฑุงุญู" data-en="All Grades">ุฌููุน ุงููุฑุงุญู</option>
                            <option value="elementary" data-ar="ุงุจุชุฏุงุฆู" data-en="Elementary">ุงุจุชุฏุงุฆู</option>
                            <option value="middle" data-ar="ูุชูุณุท" data-en="Middle School">ูุชูุณุท</option>
                            <option value="high" data-ar="ุซุงููู" data-en="High School">ุซุงููู</option>
                            <option value="university" data-ar="ุฌุงูุนู" data-en="University">ุฌุงูุนู</option>
                        </select>
                        <select id="sortBy" class="filter-select">
                            <option value="name" data-ar="ุชุฑุชูุจ ุจุงูุงุณู" data-en="Sort by Name">ุชุฑุชูุจ ุจุงูุงุณู</option>
                            <option value="date" data-ar="ุชุฑุชูุจ ุจุงูุชุงุฑูุฎ" data-en="Sort by Date">ุชุฑุชูุจ ุจุงูุชุงุฑูุฎ</option>
                            <option value="grade" data-ar="ุชุฑุชูุจ ุจุงูุฏุฑุฌุฉ" data-en="Sort by Grade">ุชุฑุชูุจ ุจุงูุฏุฑุฌุฉ</option>
                        </select>
                    </div>
                    <button class="btn-icon filter-toggle" id="advancedFilters">
                        <i class="fas fa-filter"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Students Table -->
        <div class="table-section">
            <div class="container">
                <div class="table-container">
                    <div class="table-header">
                        <h3 data-ar="ูุงุฆูุฉ ุงูุทูุงุจ" data-en="Students List">ูุงุฆูุฉ ุงูุทูุงุจ</h3>
                        <div class="table-actions">
                            <button class="btn-icon" id="refreshTable">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button class="btn-icon" id="tableSettings">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="table-wrapper">
                        <table class="students-table" id="studentsTable">
                            <thead>
                                <tr>
                                    <th>
                                        <input type="checkbox" id="selectAll">
                                    </th>
                                    <th data-ar="ุงูุตูุฑุฉ" data-en="Photo">ุงูุตูุฑุฉ</th>
                                    <th data-ar="ุงูุงุณู" data-en="Name">ุงูุงุณู</th>
                                    <th data-ar="ุฑูู ุงูุทุงูุจ" data-en="Student ID">ุฑูู ุงูุทุงูุจ</th>
                                    <th data-ar="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" data-en="Email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                    <th data-ar="ุงููุงุชู" data-en="Phone">ุงููุงุชู</th>
                                    <th data-ar="ุงููุฑุญูุฉ" data-en="Grade">ุงููุฑุญูุฉ</th>
                                    <th data-ar="ุงูุญุงูุฉ" data-en="Status">ุงูุญุงูุฉ</th>
                                    <th data-ar="ุชุงุฑูุฎ ุงูุชุณุฌูู" data-en="Registration Date">ุชุงุฑูุฎ ุงูุชุณุฌูู</th>
                                    <th data-ar="ุงูุฅุฌุฑุงุกุงุช" data-en="Actions">ุงูุฅุฌุฑุงุกุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="studentsTableBody">
                                <!-- Students data will be populated here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Pagination -->
                    <div class="pagination-container">
                        <div class="pagination-info">
                            <span data-ar="ุนุฑุถ 1-10 ูู 247 ุทุงูุจ" data-en="Showing 1-10 of 247 students">ุนุฑุถ 1-10 ูู 247 ุทุงูุจ</span>
                        </div>
                        <div class="pagination">
                            <button class="pagination-btn" disabled>
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            <button class="pagination-btn active">1</button>
                            <button class="pagination-btn">2</button>
                            <button class="pagination-btn">3</button>
                            <span class="pagination-dots">...</span>
                            <button class="pagination-btn">25</button>
                            <button class="pagination-btn">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Featured Courses Disabled Message -->
    <section id="featuredDisabledMessage" class="featured-disabled-message" style="margin: 30px 0; display: none;">
        <div class="container">
            <div class="disabled-message" style="text-align: center; padding: 40px; background: #f8f9fa; border-radius: 15px; border: 2px dashed #dee2e6;">
                <i class="fas fa-eye-slash" style="font-size: 48px; color: #6c757d; margin-bottom: 20px;"></i>
                <h3 style="color: #495057; margin-bottom: 15px;">ุงูููุฑุณุงุช ุงููููุฒุฉ ูุฎููุฉ</h3>
                <p style="color: #6c757d; margin-bottom: 25px; font-size: 16px;">
                    ููููู ุชูุนูู ุนุฑุถ ุงูููุฑุณุงุช ุงููููุฒุฉ ููุทูุงุจ ูู ููุญุฉ ุงูุชุญูู
                </p>
                <a href="admin-dashboard.html" class="btn btn-primary" style="display: inline-flex; align-items: center; gap: 10px;">
                    <i class="fas fa-cog"></i>
                    ุงูุฐูุงุจ ุฅูู ููุญุฉ ุงูุชุญูู
                </a>
            </div>
        </div>
    </section>
    
    <!-- Featured Courses Section -->
    <section id="featuredCategoriesSection" class="featured-categories" style="margin: 30px 0; display: none;">
        <div class="container">
            <div class="dashboard-grid">
                <div class="dashboard-card courses-card" onclick="window.location.href='/category/1'" style="cursor: pointer;">
                    <div class="card-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <i class="fas fa-language"></i>
                    </div>
                    <h3 class="card-title">ููุฑุณุงุช ุงูุฃุณุงุณูุงุช ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ</h3>
                    <p class="card-description">ุงุจุฏุฃ ุฑุญูุชู ุจุชุฃุณูุณ ููู ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ</p>
                    <a href="/category/1" class="card-action">
                        <i class="fas fa-arrow-left"></i>
                        ุนุฑุถ ุงูููุฑุณุงุช
                    </a>
                </div>

                <div class="dashboard-card courses-card" onclick="window.location.href='/category/6'" style="cursor: pointer;">
                    <div class="card-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3 class="card-title">๐ ุงูุฏุจููู ุงููููู ูู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู</h3>
                    <p class="card-description">ุจุฑุงูุฌ ุฏุจููู ููููุฉ ูุชุฎุตุตุฉ ูู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู</p>
                    <a href="/category/6" class="card-action">
                        <i class="fas fa-arrow-left"></i>
                        ุนุฑุถ ุงูุฏุจูููุงุช
                    </a>
                </div>

                <div class="dashboard-card courses-card" onclick="window.location.href='/category/3'" style="cursor: pointer;">
                    <div class="card-icon" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
                        <i class="fas fa-laptop-code"></i>
                    </div>
                    <h3 class="card-title">๐ป ูุณู ููุฑุณุงุช ุงูุญุงุณูุจ</h3>
                    <p class="card-description">ููุฑุณุงุช ุนูููุฉ ูู ุฃุณุงุณูุงุช ุงูุญุงุณูุจ ูุงูุชุทุจููุงุช</p>
                    <a href="/category/3" class="card-action">
                        <i class="fas fa-arrow-left"></i>
                        ุนุฑุถ ุงูููุฑุณุงุช
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Add Student Modal -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 data-ar="ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ" data-en="Add New Student">ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ</h2>
                <span class="close">&times;</span>
            </div>
            <form class="student-form" id="addStudentForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label data-ar="ุงูุงุณู ุงูุฃูู" data-en="First Name">ุงูุงุณู ุงูุฃูู</label>
                        <input type="text" name="firstName" required data-placeholder-ar="ุฃุฏุฎู ุงูุงุณู ุงูุฃูู" data-placeholder-en="Enter first name" placeholder="ุฃุฏุฎู ุงูุงุณู ุงูุฃูู">
                    </div>
                    <div class="form-group">
                        <label data-ar="ุงูุงุณู ุงูุฃุฎูุฑ" data-en="Last Name">ุงูุงุณู ุงูุฃุฎูุฑ</label>
                        <input type="text" name="lastName" required data-placeholder-ar="ุฃุฏุฎู ุงูุงุณู ุงูุฃุฎูุฑ" data-placeholder-en="Enter last name" placeholder="ุฃุฏุฎู ุงูุงุณู ุงูุฃุฎูุฑ">
                    </div>
                    <div class="form-group">
                        <label data-ar="ุงูุนููุงู" data-en="Address">ุงูุนููุงู</label>
                        <input type="text" name="address" required data-placeholder-ar="ุฃุฏุฎู ุงูุนููุงู" data-placeholder-en="Enter address" placeholder="ุฃุฏุฎู ุงูุนููุงู">
                    </div>
                    <div class="form-group">
                        <label data-ar="ุฑูู ุงููุงุชู" data-en="Phone Number">ุฑูู ุงููุงุชู</label>
                        <input type="tel" name="phone" required data-placeholder-ar="ุฃุฏุฎู ุฑูู ุงููุงุชู" data-placeholder-en="Enter phone number" placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชู">
                    </div>
                    <div class="form-group">
                        <label data-ar="ุชุงุฑูุฎ ุงููููุงุฏ" data-en="Date of Birth">ุชุงุฑูุฎ ุงููููุงุฏ</label>
                        <input type="date" name="birthDate" required>
                    </div>
                    <div class="form-group">
                        <label data-ar="ุงูุฌูุณ" data-en="Gender">ุงูุฌูุณ</label>
                        <select name="gender" required>
                            <option value="" data-ar="ุงุฎุชุฑ ุงูุฌูุณ" data-en="Select Gender">ุงุฎุชุฑ ุงูุฌูุณ</option>
                            <option value="male" data-ar="ุฐูุฑ" data-en="Male">ุฐูุฑ</option>
                            <option value="female" data-ar="ุฃูุซู" data-en="Female">ุฃูุซู</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-ar="ุงููุฑุญูุฉ ุงูุชุนููููุฉ" data-en="Grade Level">ุงููุฑุญูุฉ ุงูุชุนููููุฉ</label>
                        <select name="gradeLevel" required>
                            <option value="" data-ar="ุงุฎุชุฑ ุงููุฑุญูุฉ" data-en="Select Grade">ุงุฎุชุฑ ุงููุฑุญูุฉ</option>
                            <option value="elementary" data-ar="ุงุจุชุฏุงุฆู" data-en="Elementary">ุงุจุชุฏุงุฆู</option>
                            <option value="middle" data-ar="ูุชูุณุท" data-en="Middle School">ูุชูุณุท</option>
                            <option value="high" data-ar="ุซุงููู" data-en="High School">ุซุงููู</option>
                            <option value="university" data-ar="ุฌุงูุนู" data-en="University">ุฌุงูุนู</option>
                        </select>
                    </div>
                    
                    <div class="form-group full-width">
                        <label data-ar="ููุงุญุธุงุช" data-en="Notes">ููุงุญุธุงุช</label>
                        <textarea name="notes" rows="3" data-placeholder-ar="ุฃุฏุฎู ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ" data-placeholder-en="Enter any additional notes" placeholder="ุฃุฏุฎู ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ"></textarea>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i>
                        <span data-ar="ุญูุธ ุงูุทุงูุจ" data-en="Save Student">ุญูุธ ุงูุทุงูุจ</span>
                    </button>
                    <button type="button" class="btn-secondary" onclick="closeModal('addStudentModal')">
                        <span data-ar="ุฅูุบุงุก" data-en="Cancel">ุฅูุบุงุก</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Student Details Modal -->
    <div id="studentDetailsModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 data-ar="ุชูุงุตูู ุงูุทุงูุจ" data-en="Student Details">ุชูุงุตูู ุงูุทุงูุจ</h2>
                <span class="close">&times;</span>
            </div>
            <div class="student-details" id="studentDetailsContent">
                <!-- Student details will be populated here -->
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
    <script src="js/students.js"></script>
    <script src="js/theme.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var show = localStorage.getItem('showFeaturedCourses') === 'true';
            var featuredSection = document.getElementById('featuredCategoriesSection');
            var disabledMessage = document.getElementById('featuredDisabledMessage');
            
            if (featuredSection && disabledMessage) {
                if (show) {
                    // Load dynamic category names
                    loadFeaturedCategories();
                    featuredSection.style.display = 'block';
                    disabledMessage.style.display = 'none';
                } else {
                    featuredSection.style.display = 'none';
                    disabledMessage.style.display = 'block';
                }
            }
        });

        // Function to load featured category names dynamically
        function loadFeaturedCategories() {
            // Featured category IDs and their default names
            var featuredCategories = [
                { id: 1, defaultName: 'ููุฑุณุงุช ุงูุฃุณุงุณูุงุช ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ', defaultIcon: 'fas fa-language', defaultColor: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' },
                { id: 6, defaultName: '๐ ุงูุฏุจููู ุงููููู ูู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู', defaultIcon: 'fas fa-graduation-cap', defaultColor: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)' },
                { id: 3, defaultName: '๐ป ูุณู ููุฑุณุงุช ุงูุญุงุณูุจ', defaultIcon: 'fas fa-laptop-code', defaultColor: 'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)' }
            ];

            // Fetch categories from API
            fetch('/api/categories')
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.data) {
                        // Update card titles with actual category names
                        featuredCategories.forEach(function(category) {
                            var categoryData = data.data.find(cat => cat.id === category.id);
                            var cardElement = document.querySelector('[onclick*="/category/' + category.id + '"]');
                            if (cardElement) {
                                var titleElement = cardElement.querySelector('.card-title');
                                if (titleElement && categoryData) {
                                    // Use Arabic name if available, otherwise use default
                                    titleElement.textContent = categoryData.category_name_ar || category.defaultName;
                                }
                            }
                        });
                    }
                })
                .catch(error => {
                    console.log('Could not load dynamic category names, using defaults:', error);
                    // Keep default names if API fails
                });
        }
    </script>
</body>
</html>
